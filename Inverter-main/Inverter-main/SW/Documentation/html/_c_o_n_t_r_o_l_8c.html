<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>e-Tech Racing&#39;s Inverter Firmware: C:/Users/dwegg/Desktop/Inverter/SW/Inverter/Core/Src/CONTROL.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">e-Tech Racing&#39;s Inverter Firmware<span id="projectnumber">&#160;v0</span>
   </div>
   <div id="projectbrief">e-Tech Racing&#39;s Inverter Firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7ecc280c3b468d194a15a98ac8e61e8f.html">Inverter</a></li><li class="navelem"><a class="el" href="dir_904378c2499758a818e8491389721fc9.html">Core</a></li><li class="navelem"><a class="el" href="dir_976d189952ed482f71b400b0b237ed7f.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CONTROL.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file provides code for the control loop.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_c_o_n_t_r_o_l_8h_source.html">CONTROL.h</a>&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;PergaMOD.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for CONTROL.c:</div>
<div class="dyncontent">
<div class="center"><img src="_c_o_n_t_r_o_l_8c__incl.png" border="0" usemap="#a_c_1_2_users_2dwegg_2_desktop_2_inverter_2_s_w_2_inverter_2_core_2_src_2_c_o_n_t_r_o_l_8c" alt=""/></div>
<map name="a_c_1_2_users_2dwegg_2_desktop_2_inverter_2_s_w_2_inverter_2_core_2_src_2_c_o_n_t_r_o_l_8c" id="a_c_1_2_users_2dwegg_2_desktop_2_inverter_2_s_w_2_inverter_2_core_2_src_2_c_o_n_t_r_o_l_8c">
<area shape="rect" title="This file provides code for the control loop." alt="" coords="492,5,657,64"/>
<area shape="rect" href="_c_o_n_t_r_o_l_8h.html" title="Header file for the control loop." alt="" coords="260,112,353,139"/>
<area shape="poly" title=" " alt="" coords="492,66,360,109,358,104,490,61"/>
<area shape="rect" title=" " alt="" coords="557,336,653,363"/>
<area shape="poly" title=" " alt="" coords="580,64,605,320,599,321,574,64"/>
<area shape="rect" title=" " alt="" coords="612,112,673,139"/>
<area shape="poly" title=" " alt="" coords="598,63,625,98,621,101,594,66"/>
<area shape="rect" href="_p_w_m_8h.html" title="Header file for controlling PWM output." alt="" coords="71,261,136,288"/>
<area shape="poly" title=" " alt="" coords="290,141,134,254,131,250,287,137"/>
<area shape="rect" href="_i_n_v_e_r_t_e_r_8h.html" title="Header file for the inverter struct and extern variables." alt="" coords="258,187,354,213"/>
<area shape="poly" title=" " alt="" coords="309,139,309,171,304,171,304,139"/>
<area shape="rect" title=" " alt="" coords="5,411,122,437"/>
<area shape="poly" title=" " alt="" coords="87,290,65,310,47,337,44,352,44,367,53,396,48,398,39,368,39,351,42,335,61,307,84,286"/>
<area shape="poly" title=" " alt="" coords="272,216,152,259,150,254,270,211"/>
<area shape="rect" href="_p_c_b___i_o_8h.html" title="Header file for handling GPIOs." alt="" coords="160,261,239,288"/>
<area shape="poly" title=" " alt="" coords="289,216,232,254,229,250,286,212"/>
<area shape="rect" href="_m_e_a_s_u_r_e_m_e_n_t_s_8h.html" title="Header file for handling measurements." alt="" coords="236,336,379,363"/>
<area shape="poly" title=" " alt="" coords="309,214,310,320,305,320,304,214"/>
<area shape="rect" href="_r_e_f_e_r_e_n_c_e_8h.html" title="Header file for torque reference handling." alt="" coords="343,261,456,288"/>
<area shape="poly" title=" " alt="" coords="324,212,373,250,370,254,321,216"/>
<area shape="rect" href="_m_o_t_o_r_8h.html" title="Header file for motor parameters." alt="" coords="453,336,533,363"/>
<area shape="poly" title=" " alt="" coords="356,205,415,223,444,238,470,260,487,289,494,320,489,322,482,291,465,263,441,243,413,228,354,210"/>
<area shape="poly" title=" " alt="" coords="161,291,124,310,106,322,91,338,76,366,69,396,63,394,71,364,87,334,103,318,121,305,159,286"/>
<area shape="rect" href="main_8h.html" title=": Header for main.c file. This file contains the common defines of the application." alt="" coords="101,336,162,363"/>
<area shape="poly" title=" " alt="" coords="190,290,156,326,152,323,186,287"/>
<area shape="rect" title=" " alt="" coords="222,485,297,512"/>
<area shape="poly" title=" " alt="" coords="203,288,210,353,218,395,230,436,246,471,241,473,225,438,213,396,205,354,198,289"/>
<area shape="poly" title=" " alt="" coords="122,365,88,401,84,397,118,361"/>
<area shape="rect" title=" " alt="" coords="357,485,421,512"/>
<area shape="poly" title=" " alt="" coords="317,362,377,470,372,473,312,364"/>
<area shape="rect" href="_e_r_r_o_r_s_8h.html" title=" " alt="" coords="240,411,327,437"/>
<area shape="poly" title=" " alt="" coords="306,364,295,397,290,395,301,362"/>
<area shape="poly" title=" " alt="" coords="282,439,271,471,266,470,277,437"/>
<area shape="poly" title=" " alt="" coords="303,436,359,474,356,478,300,440"/>
<area shape="poly" title=" " alt="" coords="385,291,337,329,333,324,382,286"/>
<area shape="poly" title=" " alt="" coords="402,289,393,470,387,470,396,288"/>
<area shape="poly" title=" " alt="" coords="436,286,556,328,554,333,434,291"/>
<area shape="poly" title=" " alt="" coords="417,286,466,324,463,329,414,291"/>
<area shape="poly" title=" " alt="" coords="487,365,436,439,410,475,405,472,432,436,482,362"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a25e3a39e003be5fc1a9cd2e824b3c45f" id="r_a25e3a39e003be5fc1a9cd2e824b3c45f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25e3a39e003be5fc1a9cd2e824b3c45f">calc_current_reference</a> (<a class="el" href="struct_motor_parameters.html">MotorParameters</a> *motor, volatile <a class="el" href="struct_reference.html">Reference</a> *reference)</td></tr>
<tr class="memdesc:a25e3a39e003be5fc1a9cd2e824b3c45f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the current references using a FOC algorithm. It computes the current vector for the MTPA trajectory and limits the current reference to isMaxRef (calculated by derating, starting from the motor's maximum current). The MTPV trajectory is not implemented to save some computation time due to the nature of the motors expected. In order to implement field weakening, an external voltage loop modifying gammaRef is needed and should be called inside here. When implementing field weakening, special attention must be put to the torque reference being near 0 or differing from the speed sign (regeneration). A minimum id current must be set for speeds higher than Vs/lambda. Study thoroughly, simulate first.  <br /></td></tr>
<tr class="separator:a25e3a39e003be5fc1a9cd2e824b3c45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f219eb3c0f9cc2e68149504b730a47c" id="r_a8f219eb3c0f9cc2e68149504b730a47c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f219eb3c0f9cc2e68149504b730a47c">calc_current_loop</a> (volatile <a class="el" href="struct_inverter_struct.html">InverterStruct</a> *inv)</td></tr>
<tr class="memdesc:a8f219eb3c0f9cc2e68149504b730a47c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the id-iq loops.  <br /></td></tr>
<tr class="separator:a8f219eb3c0f9cc2e68149504b730a47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb373ce1587c58be1d83f77103483f6b" id="r_adb373ce1587c58be1d83f77103483f6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb373ce1587c58be1d83f77103483f6b">saturate_voltage</a> (volatile <a class="el" href="struct_inverter_struct.html">InverterStruct</a> *inv)</td></tr>
<tr class="memdesc:adb373ce1587c58be1d83f77103483f6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saturates PI output to not surpass DC voltage.  <br /></td></tr>
<tr class="separator:adb373ce1587c58be1d83f77103483f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaffe76ea3a271728f3cb3d0b97ffe2e4" id="r_aaffe76ea3a271728f3cb3d0b97ffe2e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaffe76ea3a271728f3cb3d0b97ffe2e4">calc_duties</a> (float vd, float vq, float vDC, float sinTheta_e, float cosTheta_e, volatile <a class="el" href="struct_duties.html">Duties</a> *duties)</td></tr>
<tr class="memdesc:aaffe76ea3a271728f3cb3d0b97ffe2e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">function.  <br /></td></tr>
<tr class="separator:aaffe76ea3a271728f3cb3d0b97ffe2e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides code for the control loop. </p>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>Copyright (c) 2024 David Redondo (@dweggg on GitHub). All rights reserved.</p>
<p>This software is licensed under the Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) license. For more information, see: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode</a> </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8f219eb3c0f9cc2e68149504b730a47c" name="a8f219eb3c0f9cc2e68149504b730a47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f219eb3c0f9cc2e68149504b730a47c">&#9670;&#160;</a></span>calc_current_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calc_current_loop </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="struct_inverter_struct.html">InverterStruct</a> *</td>          <td class="paramname"><span class="paramname"><em>inv</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the id-iq loops. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inv</td><td>Pointer to the inverter structure. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_c_o_n_t_r_o_l_8c_a8f219eb3c0f9cc2e68149504b730a47c_icgraph.png" border="0" usemap="#a_c_o_n_t_r_o_l_8c_a8f219eb3c0f9cc2e68149504b730a47c_icgraph" alt=""/></div>
<map name="a_c_o_n_t_r_o_l_8c_a8f219eb3c0f9cc2e68149504b730a47c_icgraph" id="a_c_o_n_t_r_o_l_8c_a8f219eb3c0f9cc2e68149504b730a47c_icgraph">
<area shape="rect" title="Calculates the id&#45;iq loops." alt="" coords="412,5,535,32"/>
<area shape="rect" href="_t_a_s_k_s___c_r_i_t_i_c_a_l_8c.html#a820aabb67a3cec7696f8acee5735247f" title="Function to be executed every TS." alt="" coords="242,5,364,32"/>
<area shape="poly" title=" " alt="" coords="397,21,364,21,364,16,397,16"/>
<area shape="rect" href="stm32f7xx__it_8c.html#af20a88180db1113be1e89266917d148b" title=" " alt="" coords="5,5,194,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
</map>
</div>

</div>
</div>
<a id="a25e3a39e003be5fc1a9cd2e824b3c45f" name="a25e3a39e003be5fc1a9cd2e824b3c45f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e3a39e003be5fc1a9cd2e824b3c45f">&#9670;&#160;</a></span>calc_current_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calc_current_reference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motor_parameters.html">MotorParameters</a> *</td>          <td class="paramname"><span class="paramname"><em>motor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile <a class="el" href="struct_reference.html">Reference</a> *</td>          <td class="paramname"><span class="paramname"><em>reference</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the current references using a FOC algorithm. It computes the current vector for the MTPA trajectory and limits the current reference to isMaxRef (calculated by derating, starting from the motor's maximum current). The MTPV trajectory is not implemented to save some computation time due to the nature of the motors expected. In order to implement field weakening, an external voltage loop modifying gammaRef is needed and should be called inside here. When implementing field weakening, special attention must be put to the torque reference being near 0 or differing from the speed sign (regeneration). A minimum id current must be set for speeds higher than Vs/lambda. Study thoroughly, simulate first. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">motor</td><td>Pointer to the motor parameters structure. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">reference</td><td>Pointer to the reference struct. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_c_o_n_t_r_o_l_8c_a25e3a39e003be5fc1a9cd2e824b3c45f_icgraph.png" border="0" usemap="#a_c_o_n_t_r_o_l_8c_a25e3a39e003be5fc1a9cd2e824b3c45f_icgraph" alt=""/></div>
<map name="a_c_o_n_t_r_o_l_8c_a25e3a39e003be5fc1a9cd2e824b3c45f_icgraph" id="a_c_o_n_t_r_o_l_8c_a25e3a39e003be5fc1a9cd2e824b3c45f_icgraph">
<area shape="rect" title="Calculates the current references using a FOC algorithm. It computes the current vector for the MTPA ..." alt="" coords="412,5,564,32"/>
<area shape="rect" href="_t_a_s_k_s___c_r_i_t_i_c_a_l_8c.html#a820aabb67a3cec7696f8acee5735247f" title="Function to be executed every TS." alt="" coords="242,5,364,32"/>
<area shape="poly" title=" " alt="" coords="396,21,364,21,364,16,396,16"/>
<area shape="rect" href="stm32f7xx__it_8c.html#af20a88180db1113be1e89266917d148b" title=" " alt="" coords="5,5,194,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
</map>
</div>

</div>
</div>
<a id="aaffe76ea3a271728f3cb3d0b97ffe2e4" name="aaffe76ea3a271728f3cb3d0b97ffe2e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaffe76ea3a271728f3cb3d0b97ffe2e4">&#9670;&#160;</a></span>calc_duties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calc_duties </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>vd</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>vq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>vDC</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>sinTheta_e</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>cosTheta_e</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile <a class="el" href="struct_duties.html">Duties</a> *</td>          <td class="paramname"><span class="paramname"><em>duties</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function. </p>
<p>This function calculates the inverse Park transform and the duty cycles using SVPWM</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vd</td><td>Voltage in the d-axis. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vq</td><td>Voltage in the q-axis. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vDC</td><td>DC voltage. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sinTheta_e</td><td>Electrical angle sine (-1..1) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cosTheta_e</td><td>Electrical angle cosine (-1..1) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">duties</td><td>Pointer to the duties structure. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_c_o_n_t_r_o_l_8c_aaffe76ea3a271728f3cb3d0b97ffe2e4_icgraph.png" border="0" usemap="#a_c_o_n_t_r_o_l_8c_aaffe76ea3a271728f3cb3d0b97ffe2e4_icgraph" alt=""/></div>
<map name="a_c_o_n_t_r_o_l_8c_aaffe76ea3a271728f3cb3d0b97ffe2e4_icgraph" id="a_c_o_n_t_r_o_l_8c_aaffe76ea3a271728f3cb3d0b97ffe2e4_icgraph">
<area shape="rect" title="function." alt="" coords="412,5,499,32"/>
<area shape="rect" href="_t_a_s_k_s___c_r_i_t_i_c_a_l_8c.html#a820aabb67a3cec7696f8acee5735247f" title="Function to be executed every TS." alt="" coords="242,5,364,32"/>
<area shape="poly" title=" " alt="" coords="397,21,364,21,364,16,397,16"/>
<area shape="rect" href="stm32f7xx__it_8c.html#af20a88180db1113be1e89266917d148b" title=" " alt="" coords="5,5,194,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
</map>
</div>

</div>
</div>
<a id="adb373ce1587c58be1d83f77103483f6b" name="adb373ce1587c58be1d83f77103483f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb373ce1587c58be1d83f77103483f6b">&#9670;&#160;</a></span>saturate_voltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void saturate_voltage </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="struct_inverter_struct.html">InverterStruct</a> *</td>          <td class="paramname"><span class="paramname"><em>inv</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saturates PI output to not surpass DC voltage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inv</td><td>Pointer to the inverter structure. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_c_o_n_t_r_o_l_8c_adb373ce1587c58be1d83f77103483f6b_icgraph.png" border="0" usemap="#a_c_o_n_t_r_o_l_8c_adb373ce1587c58be1d83f77103483f6b_icgraph" alt=""/></div>
<map name="a_c_o_n_t_r_o_l_8c_adb373ce1587c58be1d83f77103483f6b_icgraph" id="a_c_o_n_t_r_o_l_8c_adb373ce1587c58be1d83f77103483f6b_icgraph">
<area shape="rect" title="Saturates PI output to not surpass DC voltage." alt="" coords="412,5,527,32"/>
<area shape="rect" href="_t_a_s_k_s___c_r_i_t_i_c_a_l_8c.html#a820aabb67a3cec7696f8acee5735247f" title="Function to be executed every TS." alt="" coords="242,5,364,32"/>
<area shape="poly" title=" " alt="" coords="396,21,364,21,364,16,396,16"/>
<area shape="rect" href="stm32f7xx__it_8c.html#af20a88180db1113be1e89266917d148b" title=" " alt="" coords="5,5,194,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>

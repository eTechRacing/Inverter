\doxysection{C\+:/\+Users/dwegg/\+Desktop/\+Inverter/\+SW/\+Inverter/\+Core/\+Inc/\+PCB\+\_\+\+IO.h File Reference}
\hypertarget{_p_c_b___i_o_8h}{}\label{_p_c_b___i_o_8h}\index{C:/Users/dwegg/Desktop/Inverter/SW/Inverter/Core/Inc/PCB\_IO.h@{C:/Users/dwegg/Desktop/Inverter/SW/Inverter/Core/Inc/PCB\_IO.h}}


Header file for handling GPIOs.  


{\ttfamily \#include "{}stm32f7xx\+\_\+hal.\+h"{}}\newline
{\ttfamily \#include "{}main.\+h"{}}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
Include dependency graph for PCB\+\_\+\+IO.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{_p_c_b___i_o_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_p_c_b___i_o_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_l_e_d}{LED}}
\begin{DoxyCompactList}\small\item\em \doxylink{struct_l_e_d}{LED} structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_p_c_b___i_o_8h_a467968724661e5199a31221457318a26}{SC\+\_\+\+DET\+\_\+\+STATE}}()~(HAL\+\_\+\+GPIO\+\_\+\+Read\+Pin(\mbox{\hyperlink{main_8h_abdecac00904a118f50f31d813730c472}{SC\+\_\+det\+\_\+\+GPIO\+\_\+\+Port}}, \mbox{\hyperlink{main_8h_a8a9dad83e554eb1cfeef6ef3b76d3854}{SC\+\_\+det\+\_\+\+Pin}}))
\item 
\#define \mbox{\hyperlink{_p_c_b___i_o_8h_a9b4e50eb4991b25eee41c1732dec8a66}{DIR\+\_\+\+STATE}}()~(HAL\+\_\+\+GPIO\+\_\+\+Read\+Pin(\mbox{\hyperlink{main_8h_a85ba20c3b660f2141bd848754b915132}{DIR\+\_\+\+GPIO\+\_\+\+Port}}, \mbox{\hyperlink{main_8h_a0fb67eb01fbab13e70bc09d10aeb39ed}{DIR\+\_\+\+Pin}}))
\item 
\#define \mbox{\hyperlink{_p_c_b___i_o_8h_acc2ffe81c37d338703a73f7079242a2d}{WRN\+\_\+\+STATE}}(port,  pin)~(HAL\+\_\+\+GPIO\+\_\+\+Read\+Pin(port, pin))
\item 
\#define \mbox{\hyperlink{_p_c_b___i_o_8h_a6c2bc0ad5195090f281cf72de1b468ce}{ENABLE}}(port,  pin)~do \{ HAL\+\_\+\+GPIO\+\_\+\+Write\+Pin(port, pin, GPIO\+\_\+\+PIN\+\_\+\+SET); \} while(0)
\item 
\#define \mbox{\hyperlink{_p_c_b___i_o_8h_a8256b0c517c6b8b5659464319190f844}{DISABLE}}(port,  pin)~do \{ HAL\+\_\+\+GPIO\+\_\+\+Write\+Pin(port, pin, GPIO\+\_\+\+PIN\+\_\+\+RESET); \} while(0)
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2}{LEDMode}} \{ \mbox{\hyperlink{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2ac5a6ac5071ad0d0794f5af505d535277}{LED\+\_\+\+MODE\+\_\+\+BLINK\+\_\+\+FAST}}
, \mbox{\hyperlink{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2aad274940a97455f16e268e36b469ee50}{LED\+\_\+\+MODE\+\_\+\+BLINK\+\_\+\+SLOW}}
, \mbox{\hyperlink{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2a93ba1b43b2933514d8f0172d5fb9ff0a}{LED\+\_\+\+MODE\+\_\+\+ON}}
, \mbox{\hyperlink{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2a5a472505476f1d9c473bacb9450dd003}{LED\+\_\+\+MODE\+\_\+\+OFF}}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_p_c_b___i_o_8h_a6736efa24340a6743e5d41dab343c15b}{handle\+\_\+\+LED}} (\mbox{\hyperlink{struct_l_e_d}{LED}} \texorpdfstring{$\ast$}{*}led, uint32\+\_\+t ms\+\_\+counter)
\begin{DoxyCompactList}\small\item\em \doxylink{struct_l_e_d}{LED} handler function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_p_c_b___i_o_8h_afec13170cd54a3dc4f50bae3cb8f386e}{handle\+\_\+direction}} (volatile int8\+\_\+t \texorpdfstring{$\ast$}{*}dir\+\_\+left, volatile int8\+\_\+t \texorpdfstring{$\ast$}{*}dir\+\_\+right)
\begin{DoxyCompactList}\small\item\em Handles the direction of the motors. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_p_c_b___i_o_8h_a01c2ef603c5fdbf3e7dd8693c7acbf95}{enable\+\_\+inverters}} (volatile bool enable\+SW\+\_\+left, volatile bool enable\+SW\+\_\+right, volatile bool \texorpdfstring{$\ast$}{*}enable\+\_\+left, volatile bool \texorpdfstring{$\ast$}{*}enable\+\_\+right)
\begin{DoxyCompactList}\small\item\em Handles the direction of the motors and enables/disables the inverters. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_l_e_d}{LED}} \mbox{\hyperlink{_p_c_b___i_o_8h_a6bec7a15732c2d17f534f00a96bbb86c}{led\+\_\+left}}
\item 
\mbox{\hyperlink{struct_l_e_d}{LED}} \mbox{\hyperlink{_p_c_b___i_o_8h_a58d9f4951ca109fec7fd0340238fda36}{led\+\_\+right}}
\item 
\mbox{\hyperlink{struct_l_e_d}{LED}} \mbox{\hyperlink{_p_c_b___i_o_8h_a911ebfc5de443a53e3882ff327266616}{led\+Error}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file for handling GPIOs. 

\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
Copyright (c) 2024 David Redondo (@dweggg in Git\+Hub). All rights reserved.

This software is licensed under the Attribution-\/\+Non\+Commercial-\/\+Share\+Alike 4.\+0 International (CC BY-\/\+NC-\/\+SA 4.\+0) license. For more information, see\+: \href{https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode}{\texttt{ https\+://creativecommons.\+org/licenses/by-\/nc-\/sa/4.\+0/legalcode}} 

\doxysubsection{Macro Definition Documentation}
\Hypertarget{_p_c_b___i_o_8h_a9b4e50eb4991b25eee41c1732dec8a66}\label{_p_c_b___i_o_8h_a9b4e50eb4991b25eee41c1732dec8a66} 
\index{PCB\_IO.h@{PCB\_IO.h}!DIR\_STATE@{DIR\_STATE}}
\index{DIR\_STATE@{DIR\_STATE}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{DIR\_STATE}{DIR\_STATE}}
{\footnotesize\ttfamily \#define DIR\+\_\+\+STATE(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~(HAL\+\_\+\+GPIO\+\_\+\+Read\+Pin(\mbox{\hyperlink{main_8h_a85ba20c3b660f2141bd848754b915132}{DIR\+\_\+\+GPIO\+\_\+\+Port}}, \mbox{\hyperlink{main_8h_a0fb67eb01fbab13e70bc09d10aeb39ed}{DIR\+\_\+\+Pin}}))}

\Hypertarget{_p_c_b___i_o_8h_a8256b0c517c6b8b5659464319190f844}\label{_p_c_b___i_o_8h_a8256b0c517c6b8b5659464319190f844} 
\index{PCB\_IO.h@{PCB\_IO.h}!DISABLE@{DISABLE}}
\index{DISABLE@{DISABLE}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{DISABLE}{DISABLE}}
{\footnotesize\ttfamily \#define DISABLE(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~do \{ HAL\+\_\+\+GPIO\+\_\+\+Write\+Pin(port, pin, GPIO\+\_\+\+PIN\+\_\+\+RESET); \} while(0)}

\Hypertarget{_p_c_b___i_o_8h_a6c2bc0ad5195090f281cf72de1b468ce}\label{_p_c_b___i_o_8h_a6c2bc0ad5195090f281cf72de1b468ce} 
\index{PCB\_IO.h@{PCB\_IO.h}!ENABLE@{ENABLE}}
\index{ENABLE@{ENABLE}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{ENABLE}{ENABLE}}
{\footnotesize\ttfamily \#define ENABLE(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~do \{ HAL\+\_\+\+GPIO\+\_\+\+Write\+Pin(port, pin, GPIO\+\_\+\+PIN\+\_\+\+SET); \} while(0)}

\Hypertarget{_p_c_b___i_o_8h_a467968724661e5199a31221457318a26}\label{_p_c_b___i_o_8h_a467968724661e5199a31221457318a26} 
\index{PCB\_IO.h@{PCB\_IO.h}!SC\_DET\_STATE@{SC\_DET\_STATE}}
\index{SC\_DET\_STATE@{SC\_DET\_STATE}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{SC\_DET\_STATE}{SC\_DET\_STATE}}
{\footnotesize\ttfamily \#define SC\+\_\+\+DET\+\_\+\+STATE(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~(HAL\+\_\+\+GPIO\+\_\+\+Read\+Pin(\mbox{\hyperlink{main_8h_abdecac00904a118f50f31d813730c472}{SC\+\_\+det\+\_\+\+GPIO\+\_\+\+Port}}, \mbox{\hyperlink{main_8h_a8a9dad83e554eb1cfeef6ef3b76d3854}{SC\+\_\+det\+\_\+\+Pin}}))}

\Hypertarget{_p_c_b___i_o_8h_acc2ffe81c37d338703a73f7079242a2d}\label{_p_c_b___i_o_8h_acc2ffe81c37d338703a73f7079242a2d} 
\index{PCB\_IO.h@{PCB\_IO.h}!WRN\_STATE@{WRN\_STATE}}
\index{WRN\_STATE@{WRN\_STATE}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{WRN\_STATE}{WRN\_STATE}}
{\footnotesize\ttfamily \#define WRN\+\_\+\+STATE(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~(HAL\+\_\+\+GPIO\+\_\+\+Read\+Pin(port, pin))}



\doxysubsection{Enumeration Type Documentation}
\Hypertarget{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2}\label{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2} 
\index{PCB\_IO.h@{PCB\_IO.h}!LEDMode@{LEDMode}}
\index{LEDMode@{LEDMode}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{LEDMode}{LEDMode}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2}{LEDMode}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{LED\_MODE\_BLINK\_FAST@{LED\_MODE\_BLINK\_FAST}!PCB\_IO.h@{PCB\_IO.h}}\index{PCB\_IO.h@{PCB\_IO.h}!LED\_MODE\_BLINK\_FAST@{LED\_MODE\_BLINK\_FAST}}}\Hypertarget{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2ac5a6ac5071ad0d0794f5af505d535277}\label{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2ac5a6ac5071ad0d0794f5af505d535277} 
LED\+\_\+\+MODE\+\_\+\+BLINK\+\_\+\+FAST&Fast blink mode \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LED\_MODE\_BLINK\_SLOW@{LED\_MODE\_BLINK\_SLOW}!PCB\_IO.h@{PCB\_IO.h}}\index{PCB\_IO.h@{PCB\_IO.h}!LED\_MODE\_BLINK\_SLOW@{LED\_MODE\_BLINK\_SLOW}}}\Hypertarget{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2aad274940a97455f16e268e36b469ee50}\label{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2aad274940a97455f16e268e36b469ee50} 
LED\+\_\+\+MODE\+\_\+\+BLINK\+\_\+\+SLOW&Slow blink mode \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LED\_MODE\_ON@{LED\_MODE\_ON}!PCB\_IO.h@{PCB\_IO.h}}\index{PCB\_IO.h@{PCB\_IO.h}!LED\_MODE\_ON@{LED\_MODE\_ON}}}\Hypertarget{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2a93ba1b43b2933514d8f0172d5fb9ff0a}\label{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2a93ba1b43b2933514d8f0172d5fb9ff0a} 
LED\+\_\+\+MODE\+\_\+\+ON&\doxylink{struct_l_e_d}{LED} on mode \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LED\_MODE\_OFF@{LED\_MODE\_OFF}!PCB\_IO.h@{PCB\_IO.h}}\index{PCB\_IO.h@{PCB\_IO.h}!LED\_MODE\_OFF@{LED\_MODE\_OFF}}}\Hypertarget{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2a5a472505476f1d9c473bacb9450dd003}\label{_p_c_b___i_o_8h_a57effb96f46e458675a2653d4c543ca2a5a472505476f1d9c473bacb9450dd003} 
LED\+\_\+\+MODE\+\_\+\+OFF&\doxylink{struct_l_e_d}{LED} off mode \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\Hypertarget{_p_c_b___i_o_8h_a01c2ef603c5fdbf3e7dd8693c7acbf95}\label{_p_c_b___i_o_8h_a01c2ef603c5fdbf3e7dd8693c7acbf95} 
\index{PCB\_IO.h@{PCB\_IO.h}!enable\_inverters@{enable\_inverters}}
\index{enable\_inverters@{enable\_inverters}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{enable\_inverters()}{enable\_inverters()}}
{\footnotesize\ttfamily void enable\+\_\+inverters (\begin{DoxyParamCaption}\item[{volatile bool}]{enable\+SW\+\_\+left,  }\item[{volatile bool}]{enable\+SW\+\_\+right,  }\item[{volatile bool \texorpdfstring{$\ast$}{*}}]{enable\+\_\+left,  }\item[{volatile bool \texorpdfstring{$\ast$}{*}}]{enable\+\_\+right }\end{DoxyParamCaption})}



Handles the direction of the motors and enables/disables the inverters. 

This function reads the state of the shutdown chain (SC or SDC) and enables/disables the inverters based on that and an external software enable bool.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em enable\+SW\+\_\+left} & The software enable state for the left inverter. \\
\hline
\mbox{\texttt{ in}}  & {\em enable\+SW\+\_\+right} & The software enable state for the right inverter. \\
\hline
\mbox{\texttt{ out}}  & {\em enable\+\_\+left} & Output parameter for the left inverter\textquotesingle{}s enable state. \\
\hline
\mbox{\texttt{ out}}  & {\em enable\+\_\+right} & Output parameter for the right inverter\textquotesingle{}s enable state. \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_p_c_b___i_o_8h_a01c2ef603c5fdbf3e7dd8693c7acbf95_icgraph}
\end{center}
\end{figure}
\Hypertarget{_p_c_b___i_o_8h_afec13170cd54a3dc4f50bae3cb8f386e}\label{_p_c_b___i_o_8h_afec13170cd54a3dc4f50bae3cb8f386e} 
\index{PCB\_IO.h@{PCB\_IO.h}!handle\_direction@{handle\_direction}}
\index{handle\_direction@{handle\_direction}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{handle\_direction()}{handle\_direction()}}
{\footnotesize\ttfamily void handle\+\_\+direction (\begin{DoxyParamCaption}\item[{volatile int8\+\_\+t \texorpdfstring{$\ast$}{*}}]{dir\+\_\+left,  }\item[{volatile int8\+\_\+t \texorpdfstring{$\ast$}{*}}]{dir\+\_\+right }\end{DoxyParamCaption})}



Handles the direction of the motors. 

This function reads the state of the DIR switch and updates the directions of both the left and right motors. If one motor is set to rotate clockwise (CW), the other one is set to rotate counterclockwise (CCW), and vice versa.


\begin{DoxyParams}{Parameters}
{\em dir\+\_\+left} & Pointer to the direction parameter in the left inverter structure. \\
\hline
{\em dir\+\_\+right} & Pointer to the direction parameter in the right inverter structure. \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_p_c_b___i_o_8h_afec13170cd54a3dc4f50bae3cb8f386e_icgraph}
\end{center}
\end{figure}
\Hypertarget{_p_c_b___i_o_8h_a6736efa24340a6743e5d41dab343c15b}\label{_p_c_b___i_o_8h_a6736efa24340a6743e5d41dab343c15b} 
\index{PCB\_IO.h@{PCB\_IO.h}!handle\_LED@{handle\_LED}}
\index{handle\_LED@{handle\_LED}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{handle\_LED()}{handle\_LED()}}
{\footnotesize\ttfamily void handle\+\_\+\+LED (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_l_e_d}{LED}} \texorpdfstring{$\ast$}{*}}]{led,  }\item[{uint32\+\_\+t}]{ms\+\_\+counter }\end{DoxyParamCaption})}



\doxylink{struct_l_e_d}{LED} handler function. 

This function handles the \doxylink{struct_l_e_d}{LED} blinking modes based on the \doxylink{struct_l_e_d}{LED} mode and current millisecond counter.


\begin{DoxyParams}{Parameters}
{\em led} & Pointer to the \doxylink{struct_l_e_d}{LED} structure. \\
\hline
{\em ms\+\_\+counter} & Millisecond counter for timing.\\
\hline
\end{DoxyParams}
This function handles the \doxylink{struct_l_e_d}{LED} blinking modes based on the \doxylink{struct_l_e_d}{LED} mode and current millisecond counter.


\begin{DoxyParams}{Parameters}
{\em led} & Pointer to the \doxylink{struct_l_e_d}{LED} structure. \\
\hline
{\em ms\+\_\+counter} & Current millisecond counter. \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_p_c_b___i_o_8h_a6736efa24340a6743e5d41dab343c15b_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{_p_c_b___i_o_8h_a6bec7a15732c2d17f534f00a96bbb86c}\label{_p_c_b___i_o_8h_a6bec7a15732c2d17f534f00a96bbb86c} 
\index{PCB\_IO.h@{PCB\_IO.h}!led\_left@{led\_left}}
\index{led\_left@{led\_left}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{led\_left}{led\_left}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_l_e_d}{LED}} led\+\_\+left\hspace{0.3cm}{\ttfamily [extern]}}

\Hypertarget{_p_c_b___i_o_8h_a58d9f4951ca109fec7fd0340238fda36}\label{_p_c_b___i_o_8h_a58d9f4951ca109fec7fd0340238fda36} 
\index{PCB\_IO.h@{PCB\_IO.h}!led\_right@{led\_right}}
\index{led\_right@{led\_right}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{led\_right}{led\_right}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_l_e_d}{LED}} led\+\_\+right\hspace{0.3cm}{\ttfamily [extern]}}

\Hypertarget{_p_c_b___i_o_8h_a911ebfc5de443a53e3882ff327266616}\label{_p_c_b___i_o_8h_a911ebfc5de443a53e3882ff327266616} 
\index{PCB\_IO.h@{PCB\_IO.h}!ledError@{ledError}}
\index{ledError@{ledError}!PCB\_IO.h@{PCB\_IO.h}}
\doxysubsubsection{\texorpdfstring{ledError}{ledError}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_l_e_d}{LED}} led\+Error\hspace{0.3cm}{\ttfamily [extern]}}

